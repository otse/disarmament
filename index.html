<html>

<head>
	<title>disarmament</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<script src="garbage.js"></script>
	<!--<script src="js/mod.js" type="module"></script>-->

	<style>
		@import url('https://fonts.googleapis.com/css2?family=Bungee+Tint&display=swap');
	</style>		

	<style>
		canvas {
			position: absolute;
			left: 0;
			top: 0;
			z-index: -1;
		}
	</style>

	<script>
		var app;
		var CANNON;
		var THREE;
		var collada_loader;
		var FirstPersonControls;
		var PointerLockControls;
		var XRControllerModelFactory;
		var VRButton;
		var RectAreaLightUniformsLib;
		var RectAreaLightHelper;
	</script>

	<script type="importmap">
		{
			"imports": {
				"cannon": "./js/cannon-es.js",
				"three": "https://unpkg.com/three@0.170.0/build/three.module.js",
				"three/addons/": "https://unpkg.com/three@0.170.0/examples/jsm/"
			}
		}
	</script>

	<script type="module">
		import * as CANNON from 'cannon';
		import * as THREE from 'three';
		import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';
		import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js';
		import { Lensflare, LensflareElement } from 'three/addons/objects/Lensflare.js';
		import { XRControllerModelFactory } from 'three/addons/webxr/XRControllerModelFactory.js';
		import { VRButton } from 'three/addons/webxr/VRButton.js';
		import { RectAreaLightUniformsLib } from 'three/addons/lights/RectAreaLightUniformsLib.js';
		import { RectAreaLightHelper } from 'three/addons/helpers/RectAreaLightHelper.js';
		import * as BufferGeometryUtils from 'three/addons/utils/BufferGeometryUtils.js';
		import { default as app } from "./js/app.js";
		
		window.app = app;
		window.CANNON = CANNON;
		window.THREE = THREE;
		window.VRButton = VRButton;
		window.XRControllerModelFactory = XRControllerModelFactory;
		window.ColladaLoader = ColladaLoader;
		window.BufferGeometryUtils = BufferGeometryUtils;
		window.PointerLockControls = PointerLockControls;
		window.Lensflare = Lensflare;
		window.LensflareElement = LensflareElement;
		window.RectAreaLightUniformsLib = RectAreaLightUniformsLib;
		window.RectAreaLightHelper = RectAreaLightHelper;
	</script>

	<script>
		document.addEventListener('DOMContentLoaded', function (event) {
			app.boot('');
		});
	</script>
</head>

<body>

	<garbage-body>
		<garbage-instructions>
			dISARMAMENT
			<br />
			<br />
			give it a minute to load - dont leave page while loading
			<br />
			<br />
			finally click me
			<br />
			<br />
			< h > stats, < v > noclip, < t > reload level, < f3 > lo to hi res
		</garbage-instructions>

		<garbage-stats>
			stats
		</garbage-stats>
	</garbage-body>

</body>

</html>