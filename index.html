<html>

<head>
	<title>sewer world standalone</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<script src="salvage.js"></script>
	<!--<script src="js/mod.js" type="module"></script>-->

	<style>
		@import url('https://fonts.googleapis.com/css2?family=Waiting+for+the+Sunrise&display=swap');
	</style>

	<style>
		canvas {
			position: absolute;
			left: 0;
			top: 0;
			z-index: -1;
		}
	</style>

	<script>
		var app;
		var CANNON;
		var THREE;
		var collada_loader;
		var FirstPersonControls;
		var PointerLockControls;
		var XRControllerModelFactory;
		var VRButton;
		var RectAreaLightUniformsLib;
		var RectAreaLightHelper;
	</script>

	<script type="importmap">
		{
			"imports": {
				"cannon": "./js/cannon-es.js",
				"three": "https://unpkg.com/three@0.167.0/build/three.module.js",
				"three/addons/": "https://unpkg.com/three@0.167.0/examples/jsm/"
			}
		}
	</script>

	<script type="module">
		import * as CANNON from 'cannon';
		import * as THREE from 'three';
		import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';
		import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js';
		import { Lensflare, LensflareElement } from 'three/addons/objects/Lensflare.js';
		import { XRControllerModelFactory } from 'three/addons/webxr/XRControllerModelFactory.js';
		import { VRButton } from 'three/addons/webxr/VRButton.js';
		import { RectAreaLightUniformsLib } from 'three/addons/lights/RectAreaLightUniformsLib.js';
		import { RectAreaLightHelper } from 'three/addons/helpers/RectAreaLightHelper.js';
		import * as BufferGeometryUtils from 'three/addons/utils/BufferGeometryUtils.js';
		import { default as app } from "./js/app.js";
		
		window.app = app;
		window.CANNON = CANNON;
		window.THREE = THREE;
		window.VRButton = VRButton;
		window.XRControllerModelFactory = XRControllerModelFactory;
		window.ColladaLoader = ColladaLoader;
		window.BufferGeometryUtils = BufferGeometryUtils;
		window.PointerLockControls = PointerLockControls;
		window.Lensflare = Lensflare;
		window.LensflareElement = LensflareElement;
		window.RectAreaLightUniformsLib = RectAreaLightUniformsLib;
		window.RectAreaLightHelper = RectAreaLightHelper;
	</script>

	<script>
		document.addEventListener('DOMContentLoaded', function (event) {
			app.boot('');
		});
	</script>
</head>

<body>

	<salvage-body>
		<salvage-instructions>
			garbage
			<br />
			<br />
			[[klik om te beginnen]]
			<br />
			<br />
			the game is big. give it a minute to load
			<br />
			<br />
			press h for stats, v for noclip, t to reload level.
			<br />
			<br />
			press f3 (f-three) to switch from low to hi res
		</salvage-instructions>

		<salvage-stats>
			stats
		</salvage-stats>
	</salvage-body>

</body>

</html>